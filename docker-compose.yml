version: "3.9"

services:
  # Client Prod
  client:
    build:
      context: ./client
      dockerfile: Dockerfile
      args:
        ENV_FILE: .env
    container_name: client-app
    ports:
      - "5173:80"
    restart: always

  # Client Test
  client-test:
    build:
      context: ./client
      dockerfile: Dockerfile
      args:
        ENV_FILE: .env.test
    container_name: client-test-app
    ports:
      - "5176:80"
    restart: always

  # Dashboard Prod
  dashboard:
    build:
      context: ./dashboard
      dockerfile: Dockerfile
      args:
        ENV_FILE: .env
    container_name: dashboard-app
    ports:
      - "5174:80"
    restart: always

  # Dashboard Test
  dashboard-test:
    build:
      context: ./dashboard
      dockerfile: Dockerfile
      args:
        ENV_FILE: .env.test
    container_name: dashboard-test-app
    ports:
      - "5175:80"
    restart: always
